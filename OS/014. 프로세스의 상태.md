# 프로세스의 상태

## 관련 용어들

* **프로세스의 궤적(trace)**
  > 프로세스의 코드를 실행하는 것은, CPU 내의 프로그램 카운터(PC) 레지스터의 값으로 정해진 주소의 명령어들을 가져다 계속적으로 실행하는 형태로 되어있다. 이러한 맥락에서 나타난 용어로, **프로세스의 궤적은 곧 그 프로세스를 위해 수행되는 일련의 명령어 리스트**를 이른다.

* **디스패처(dispatcher)**
  > 실행될 프로세스를 교체(즉 문맥교환)해주는 운영체제 요소를 이른다.

* **인터리빙(interleaving)**
  > 'interleave' 라는 단어의 의미(끼우다)에서 짐작해볼 수 있다. I/O 요청, 시간 만료 등의 이유로 실행되는 프로세스가 변경될 때, 한 프로세스의 입장에서는 다른 프로세스가 끼어드는 것으로 보인다. 이렇게 **각 프로세서 명령어들이 번갈아 실행되는 모습**을 **인터리빙**이라고 한다.

<br/>

## 프로세스의 생성

    모든 프로세스는 생성으로 시작되어 종료로 끝난다. 
    우선 프로세스의 생성은 일반적으로 다음과 같이 네 가지 사건에 의해 생성된다.
    
원인|설명|
---|---|
**새로운 일괄처리 작업**|일괄처리 환경에서 운영체제가 새로운 작업을 처리할 준비가 완료될 때|
**대화형 로그온**|대화식 환경에서 새로운 사용자가 로그온 할 때 프로세스가 생성됨 (cmd창을 띄워 명령어를 입력하면 명령이 실행되는 것이 그 예시)|
**운영체제가 특정 서비스 제공**|운영체제가 사용자 프로그램을 대신하여 어떤 기능을 수행할 프로세스를 생성|
**기존 프로세스에 의해 생성**|부모 프로세스가 모듈화/병렬성을 활용하기 위해 자식 프로세스를 생성|

  > **부모 프로세스** : 다른 프로세스를 생성하는 프로세스
  > 
  > **자식 프로세스** : 부모 프로세스에 의해 생성된 프로세스

<br/>

## 프로세스의 종료

    프로세스가 종료되는 원인들은 다음과 같다.

원인|설명|
---|---|
**정상완료**|**정상적으로 어떤 작업이 수행이 완료**되었을 때 프로세스가 종료됨|
**시간 한도 초과**|**수행 시간이 초과**되어 강제적으로 프로세스가 종료됨. 예를 들어, 대화형 프로그램에서 실행할 때 시간이 초과해도 끝나지 않는다면, 운영체제는 강제적으로 그 프로세스 수행을 멈추게 함|
**메모리 부족**|어떤 프로세스가 코드를 잘못 짠 등의 이유로 지나치게 많은 메모리를 사용한다면, 메모리가 부족해지는 현상이 일어남. 이렇게 **시스템이 제공할 수 있는 메모리가 부족**할 때, 해당 프로세스는 종료됨|
**경계범위를 벗어날 때**|각 프로세스에 할당되어있는 메모리 부분이 정해져 있는데, 코드에서 만약 **프로세스에 할당된 메모리 영역을 벗어난다면**(경계범위 위반), 그 프로세스는 운영체제가 강제로 종료시킴|
**보호 흐름**|권한을 위배하거나 운영체제에서 데이터, 리소스를 보호해야 할 경우가 있을 때, 혹은 보호에 침해되는 행위가 있을 때를 이른다. 즉 **어떤 권한없는 행위를 할 때**, 그 프로세스는 강제로 종료된다.| 
**산술오류**|**처리기가 연산할 수 없는 상황**이 발생하면, 프로세스는 강제종료된다. - 대표적인 예) 0으로 나누려고 할 때|
**시간 초과**|어떤 이벤트가 발생하기로 했는데, 명시된 최대 시간 이후로도 발생하지 않을 때.|
**입출력 실패**|고장 등의 이유로 입출력 장치로부터 특정 부분을 읽어올 수 없어 운영체제가 입출력이 완료되었음을 보고받지 못한다면 강제로 프로세스가 종료|
**무효 명령어**|처리기에 적재한 특정 명령어가 처리기가 해석/실행할 수 없는 명령어일 때, 프로세스는 강제종료|
**특권 명령어**|특권 명령어는 특권 모드에서만 사용될 수 있는데, 유저 모드에서 유저 프로그램이 실행되는 동안 특권 명령어에 접근하게 된다면, 운영체제는 그 특권 명령어에 접근한 프로세스를 강제종료시킴|
**데이터 오용**|데이터 일부 타입이 잘못되었거나 초기화되지 않았을 때|
**간섭**|운영체제를 사용하는 사람(오퍼레이터)이 강제로 종료시킬 때와 같이 중간에 유저가 간섭하여 종료|
**부모 종료**|부모 프로세스가 종료되면 자식 프로세스도 자동적으로 종료|
**부모 요청**|부모 프로세스가 자식 프로세스를 종료시킬 수 있는 권한이 있음|

<br/>

## 출처 및 참고

* 학교 수업 내용
* William Stallings 저(전광일 등 역), 운영체제-내부구조 및 설계원리 제8판, 프로텍미디어.
