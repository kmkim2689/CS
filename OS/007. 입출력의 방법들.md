# 입출력의 방법들

    1. 프로그램된 입출력(Programmed I/O)
    2. 인터럽트 구동 입출력(Interrupt-driven I/O)
    3. 직접 메모리 접근(DMA : Direct Memory Access)
    
## 1. 프로그램된 입출력

* 키워드 : **busy waiting**
* 프로세스가 입출력을 요청하면 프로세스는 실행이 중단되며, 운영체제에게 처리기에 대한 권한을 넘겨주는 식으로 진행되는 입출력이다. 즉 프로세스가 입출력 명령에 접근할 수 없기 때문에 처리기가 프로세스를 대신하여 입출력 모듈에게 입출력 명령을 보내는 것이다. 이 때, 프로세스는 요청된 입출력이 완료될 때까지 바쁜 대기를 하게 되며, 이는 비효율적인 방법이라 볼 수 있다.

> 예시 : while true문을 이용하여, 반복문이 특정 조건을 만족할 때까지 계속 반복하도록 함으로써 프로세스가 busy waiting을 하는 방식

<br/>

## 2. 인터럽트 구동 입출력

> I/O연산을 호출하면, 문맥 교환이 일어나 다른 프로세스가 수행되도록 하는 방법

    디스크에 무언가를 기록하는 데(I/O 연산)에는 많은 시간이 걸린다.
    여기에 프로그램된 입출력을 적용하게 된다면 바쁜 대기를 하는 시간이 더욱 길어져 
    처리기를 매우 비효율적으로 사용하게 될 것이다. 이를 어떻게 해결하면 좋을까?

* 키워드 : **문맥교환**. 디스크 입출력 같이 시간이 많이 걸리는 입출력에 적용됨

* 위의 질문에 대한 답이 바로 문맥교환이다. 특정 프로그램이 실행을 멈추게 되면, 그 프로그램이 바쁜 대기를 하도록 하는 대신 다른 프로그램이 수행될 수 있도록 한다면, 효율을 높일 수 있다.

* 특정 프로그램이 입출력 요청으로 인해 실행을 멈추고, 다른 프로그램이 수행되다가 입출력이 끝나면 I/O장치가 인터럽트를 걸게 된다. 인터럽트 신호를 받으면, 인터럽트 처리 루틴으로 이동하여 다시 당초의 프로세스가 수행될 수 있도록 하는 방식이다.

<br/>

## 3. 직접 메모리 접근(DMA : Direct Memory Access)

* 키워드 : 더욱 빠른 속도, 대량의 데이터 교환

* 앞에서 살펴본 방법들에서는 입출력을 하기 위해서는 커널부분(운영체제)의 도움이 필요한 것을 알 수 있다.  

* 반면, DMA에서는 그렇게 하지 않고, **I/O장치가 디스크에 있는 메모리 부분을 직접 기록**하는 방식으로 입출력에 이뤄진다. **중간과정을 거치지 않고 직접 사용자 메모리로 데이터를 전달해주므로, 더욱 빠른 속도로 데이터를 전달**할 수 있다.

<br/>

## 입출력 기능의 발달

    입출력 기능은 프로그램된 입출력 -> 인터럽트 구동 입출력 -> 직접 메모리 접근(DMA) 순으로 발전해왔다.

구분ㅤ|인터럽트 없음|인터럽트 사용|
---|---|---|
**처리기를 통한 입출력 장치와 메모리 사이의 전송**|프로그램된 입출력|인터럽트 구동 입출력|
**입출력 장치와 메모리 사이의 직접전송**|ㅤ|직접 메모리 접근(DMA)


> 처음에 운영체제를 만들 때에는 컴퓨터가 직접 I/O장치를 제어하였고, 별도로 특별한 기능은 없었다.
>  
> → **<프로그램된 입출력>** 그러다가 인터럽트의 개념이 생기기 전, 프로그램 입출력 함수를 이용하여 I/O연산을 수행하도록 하는 기법이 등장 
> 
> → **<인터럽트 구동 입출력>** 시간이 흘러 인터럽트가 도입되고, 인터럽트를 이용해서 I/O가 가능해짐 
> 
> → **<DMA/직접 메모리 접근>** 처리기와 입출력 장치와 메모리에 걸쳐 전송이 일어나던 전의 방식과 달리, 입출력 장치와 메모리 간 직접전송 방식 등장

<br/>

## 출처 및 참고

* 학교 수업 내용
* William Stallings 저(전광일 등 역), 운영체제-내부구조 및 설계원리 제8판, 프로텍미디어.
